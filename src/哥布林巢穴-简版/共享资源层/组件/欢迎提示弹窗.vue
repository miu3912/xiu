<template>
  <div v-if="show" class="welcome-modal-overlay" @click="handleOverlayClick">
    <div class="welcome-modal" @click.stop>
      <div class="modal-header">
        <h2>ğŸ® æ¬¢è¿æ¸¸ç©å“¥å¸ƒæ—å·¢ç©´</h2>
      </div>

      <div class="modal-content">
        <div class="welcome-message">
          <p>
            æ„Ÿè°¢æ‚¨æ¸¸ç©æœ¬å‰ç«¯ç•Œé¢å¡ï¼æœ¬å‰ç«¯ç•Œé¢æ˜¯å…è´¹å¼€æºé¡¹ç›®ï¼Œä¸¥ç¦ä»»ä½•å½¢å¼çš„å•†ä¸šåŒ–æˆ–ç›—ç”¨è¡Œä¸ºã€‚å¦‚å‘ç°ä¾µæƒè¡Œä¸ºï¼Œè¯·é€šè¿‡Discordè”ç³»åŸä½œè€…ï¼šåŒ—ä¸Šã€‚
            <br />
            ç‰ˆæœ¬å·ï¼š{{ FRONTEND_VERSION }}
            <br />
            æ›´æ–°æ—¶é—´ï¼š{{ FRONTEND_UPDATE_DATE }}
          </p>
        </div>

        <div class="links-section">
          <div class="link-item">
            <span class="link-icon">ğŸ“–</span>
            <span class="link-label">æ•™ç¨‹æ–‡æ¡£:</span>
            <a
              href="https://docs.google.com/document/d/1UV8hG4hgYfg6nyRHquQ36pz4-Fb8QCB3cxakLXXbRss/edit?tab=t.0#heading=h.1scl3yr0eg9"
              target="_blank"
              class="link-button"
            >
              æŸ¥çœ‹æ•™ç¨‹
            </a>
          </div>

          <div class="link-item">
            <span class="link-icon">ğŸ’¬</span>
            <span class="link-label">Discordå¸–å­:</span>
            <a
              href="https://discordapp.com/channels/1134557553011998840/1433109877873442876"
              target="_blank"
              class="link-button"
            >
              æŸ¥çœ‹å¸–å­
            </a>
          </div>
        </div>

        <div class="notice-section">
          <p class="notice-title">âš ï¸ é‡è¦æç¤º</p>
          <p class="notice-text">
            å¼ºçƒˆæ¨èå…¨å±è¿›è¡Œæ¸¸ç©ï¼Œå°¤å…¶æ˜¯æ‰‹æœºç«¯~æ‰‹æœºç«¯ä¸ªäººæ¨èViaæµè§ˆå™¨ï¼Œå› ä¸ºæŸäº›æµè§ˆå™¨æ‰‹æœºå…¨å±ä¹Ÿä¼šå¼¹å‡ºèœå•ï¼Œè¯´çš„å°±æ˜¯ä½ Edgeæµè§ˆå™¨ï¼
            <br />
            æ¸¸ç©å‰è¯·åŠ¡å¿…ç¡®ä¿ä»¥ä¸‹å‡ é¡¹æ­£ç¡®é…ç½®ï¼š
            <br />
            1. é…’é¦†åŠ©æ‰‹è®¾ç½®è¯· å…³é—­æ¸²æŸ“å™¨-å¯ç”¨BlobURLæ¸²æŸ“
            <br />
            2.
            é¢„è®¾çš„æ­£åˆ™ï¼Œè¯·ä¿è¯æ‰“å¼€ä»…æ ¼å¼æ˜¾ç¤ºå’Œä»…æ ¼å¼æç¤ºè¯ï¼ˆå¦‚æœä¸¤ä¸ªå…¨ç©ºæ”¹ä¸ºå…¨å¼€å³å¯ï¼‰ï¼Œå°¤å…¶æ˜¯ä½ å‘ç°ä½ çš„AIå›å¤ä¸­å‡ºç°æ ‡ç­¾
            <br />
          </p>
        </div>
      </div>

      <div class="modal-actions">
        <button class="confirm-button" @click="handleConfirm">æˆ‘çŸ¥é“äº†</button>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { FRONTEND_UPDATE_DATE, FRONTEND_VERSION } from '../../version';

interface Props {
  show: boolean;
}

defineProps<Props>();
const emit = defineEmits<{
  confirm: [];
  close: [];
}>();

const handleConfirm = () => {
  emit('confirm');
};

const handleOverlayClick = () => {
  // ä¸å…è®¸ç‚¹å‡»å¤–éƒ¨å…³é—­
};
</script>

<style scoped lang="scss">
.welcome-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3000;
  backdrop-filter: blur(5px);

  .welcome-modal {
    background: linear-gradient(180deg, rgba(40, 26, 20, 0.98), rgba(25, 17, 14, 0.99));
    border: 3px solid rgba(205, 133, 63, 0.6);
    border-radius: 20px;
    width: 90%;
    max-width: 600px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow:
      0 20px 60px rgba(0, 0, 0, 0.8),
      0 0 40px rgba(205, 133, 63, 0.3);
    animation: welcomeModalSlideIn 0.4s ease-out;

    @media (max-width: 768px) {
      width: 95%;
      border-radius: 16px;
    }

    .modal-header {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 24px 28px;
      border-bottom: 2px solid rgba(205, 133, 63, 0.3);
      background: linear-gradient(180deg, rgba(205, 133, 63, 0.15), transparent);

      h2 {
        margin: 0;
        color: #ffd7a1;
        font-size: 24px;
        font-weight: 700;
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
      }
    }

    .modal-content {
      padding: 28px;

      @media (max-width: 768px) {
        padding: 20px;
      }

      .welcome-message {
        margin-bottom: 24px;
        padding: 16px;
        background: rgba(5, 150, 105, 0.15);
        border: 2px solid rgba(5, 150, 105, 0.3);
        border-radius: 12px;
        border-left: 4px solid rgba(5, 150, 105, 0.6);

        p {
          margin: 0;
          color: #f0e6d2;
          font-size: 16px;
          font-weight: 600;
          line-height: 1.6;
          text-align: center;
        }
      }

      .links-section {
        margin-bottom: 24px;

        .link-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 14px;
          background: rgba(0, 0, 0, 0.3);
          border-radius: 10px;
          margin-bottom: 12px;
          transition: all 0.2s ease;

          &:hover {
            background: rgba(0, 0, 0, 0.4);
            transform: translateX(4px);
          }

          .link-icon {
            font-size: 24px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
          }

          .link-label {
            flex-shrink: 0;
            color: #f0e6d2;
            font-size: 15px;
            font-weight: 600;
            min-width: 100px;
          }

          .link-button {
            flex: 1;
            padding: 10px 16px;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: #ffffff;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            text-align: center;
            border: 2px solid rgba(59, 130, 246, 0.5);

            &:hover {
              background: linear-gradient(135deg, #2563eb, #1d4ed8);
              transform: translateY(-2px);
              box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);
              border-color: rgba(59, 130, 246, 0.8);
            }
          }
        }
      }

      .notice-section {
        padding: 18px;
        background: rgba(245, 158, 11, 0.15);
        border: 2px solid rgba(245, 158, 11, 0.4);
        border-radius: 12px;
        border-left: 5px solid rgba(245, 158, 11, 0.8);

        .notice-title {
          margin: 0 0 10px 0;
          color: #fbbf24;
          font-size: 16px;
          font-weight: 700;
        }

        .notice-text {
          margin: 0;
          color: #f0e6d2;
          font-size: 14px;
          line-height: 1.6;
        }
      }
    }

    .modal-actions {
      display: flex;
      justify-content: center;
      padding: 20px 28px;
      border-top: 2px solid rgba(205, 133, 63, 0.3);
      background: linear-gradient(0deg, rgba(205, 133, 63, 0.1), transparent);

      .confirm-button {
        padding: 14px 36px;
        background: linear-gradient(180deg, #059669, #047857);
        border: 2px solid rgba(5, 150, 105, 0.6);
        border-radius: 12px;
        color: #ffffff;
        font-weight: 700;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);

        &:hover {
          background: linear-gradient(180deg, #047857, #065f46);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(5, 150, 105, 0.5);
        }

        &:active {
          transform: translateY(0);
        }
      }
    }
  }
}

@keyframes welcomeModalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-30px) scale(0.92);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
</style>
